{"ast":null,"code":"import _defineProperty from\"D:/Downloads/book/node_modules/@babel/runtime/helpers/esm/defineProperty.js\";import _objectSpread from\"D:/Downloads/book/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import _regeneratorRuntime from\"D:/Downloads/book/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _asyncToGenerator from\"D:/Downloads/book/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _slicedToArray from\"D:/Downloads/book/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import{Box,Button,Checkbox,FormControlLabel,FormLabel,TextField}from'@mui/material';import axios from'axios';import React,{useEffect,useState}from'react';import{useNavigate,useParams}from'react-router-dom';import'./book.css';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var BookDetail=function BookDetail(){var _useState=useState({}),_useState2=_slicedToArray(_useState,2),inputs=_useState2[0],setInputs=_useState2[1];var id=useParams().id;var _useState3=useState(false),_useState4=_slicedToArray(_useState3,2),checked=_useState4[0],setChecked=_useState4[1];var history=useNavigate();useEffect(function(){var fetchHandler=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(){return _regeneratorRuntime().wrap(function _callee$(_context){while(1)switch(_context.prev=_context.next){case 0:_context.next=2;return axios.get(\"http://localhost:5000/books/\".concat(id)).then(function(res){return res.data;}).then(function(data){return setInputs(data.book);});case 2:case\"end\":return _context.stop();}},_callee);}));return function fetchHandler(){return _ref.apply(this,arguments);};}();fetchHandler();},[id]);var sentRequest=/*#__PURE__*/function(){var _ref2=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee2(){return _regeneratorRuntime().wrap(function _callee2$(_context2){while(1)switch(_context2.prev=_context2.next){case 0:_context2.next=2;return axios.put(\"http://localhost:5000/books/\".concat(id),{name:String(inputs.name),author:String(inputs.author),description:String(inputs.description),prize:Number(inputs.prize),image:String(inputs.image),available:Boolean(checked)}).then(function(res){return res.data;});case 2:case\"end\":return _context2.stop();}},_callee2);}));return function sentRequest(){return _ref2.apply(this,arguments);};}();var handleSubmit=function handleSubmit(e){e.preventDefault();sentRequest().then(function(){return history(\"/books\");});};var handleChange=function handleChange(e){setInputs(function(prevState){return _objectSpread(_objectSpread({},prevState),{},_defineProperty({},e.target.name,e.target.value));});};return/*#__PURE__*/_jsx(\"div\",{children:inputs&&/*#__PURE__*/_jsx(\"form\",{onSubmit:handleSubmit,children:/*#__PURE__*/_jsxs(Box,{display:\"flex\",flexDirection:\"column\",justifyContent:'center',maxWidth:700,alignContent:'center',alignSelf:\"center\",marginLeft:\"auto\",marginRight:\"auto\",marginTop:9,children:[/*#__PURE__*/_jsx(FormLabel,{children:\"Name\"}),/*#__PURE__*/_jsx(TextField,{sx:{backgroundColor:'#edb4d9'},value:inputs.name,onChange:handleChange,margin:\"normal\",fullWidth:true,variant:\"outlined\",name:\"name\"}),/*#__PURE__*/_jsx(FormLabel,{children:\"Author\"}),/*#__PURE__*/_jsx(TextField,{sx:{backgroundColor:'#edb4d9'},value:inputs.author,onChange:handleChange,margin:\"normal\",fullWidth:true,variant:\"outlined\",name:\"author\"}),/*#__PURE__*/_jsx(FormLabel,{children:\"Description\"}),/*#__PURE__*/_jsx(TextField,{sx:{backgroundColor:'#edb4d9'},value:inputs.description,onChange:handleChange,margin:\"normal\",fullWidth:true,variant:\"outlined\",name:\"description\"}),/*#__PURE__*/_jsx(FormLabel,{children:\"Prize\"}),/*#__PURE__*/_jsx(TextField,{sx:{backgroundColor:'#edb4d9'},value:inputs.prize,onChange:handleChange,type:\"number\",margin:\"normal\",fullWidth:true,variant:\"outlined\",name:\"prize\"}),/*#__PURE__*/_jsx(FormLabel,{children:\"IMAGE\"}),/*#__PURE__*/_jsx(TextField,{sx:{backgroundColor:'#edb4d9'},value:inputs.image,onChange:handleChange,margin:\"normal\",fullWidth:true,variant:\"outlined\",name:\"image\"}),/*#__PURE__*/_jsx(FormControlLabel,{control:/*#__PURE__*/_jsx(Checkbox,{checked:checked,onChange:function onChange(){return setChecked(!checked);}}),label:\"Available\"}),/*#__PURE__*/_jsx(Button,{variant:\"contained\",type:\"submit\",children:\"UPDATE BOOK\"})]})})});};export default BookDetail;","map":{"version":3,"names":["Box","Button","Checkbox","FormControlLabel","FormLabel","TextField","axios","React","useEffect","useState","useNavigate","useParams","jsx","_jsx","jsxs","_jsxs","BookDetail","_useState","_useState2","_slicedToArray","inputs","setInputs","id","_useState3","_useState4","checked","setChecked","history","fetchHandler","_ref","_asyncToGenerator","_regeneratorRuntime","mark","_callee","wrap","_callee$","_context","prev","next","get","concat","then","res","data","book","stop","apply","arguments","sentRequest","_ref2","_callee2","_callee2$","_context2","put","name","String","author","description","prize","Number","image","available","Boolean","handleSubmit","e","preventDefault","handleChange","prevState","_objectSpread","_defineProperty","target","value","children","onSubmit","display","flexDirection","justifyContent","maxWidth","alignContent","alignSelf","marginLeft","marginRight","marginTop","sx","backgroundColor","onChange","margin","fullWidth","variant","type","control","label"],"sources":["D:/Downloads/book/src/components/Book/BookDetail.js"],"sourcesContent":["import { Box, Button, Checkbox, FormControlLabel, FormLabel, TextField } from '@mui/material';\r\nimport axios from 'axios';\r\nimport React, { useEffect, useState } from 'react'\r\nimport { useNavigate, useParams } from 'react-router-dom'\r\nimport './book.css'\r\n\r\nconst BookDetail = () => {\r\n    const [inputs, setInputs] = useState({});\r\n    const id=useParams().id;\r\n    const [checked,setChecked]=useState(false);\r\n    const history =useNavigate();\r\n    useEffect(()=>{\r\n        const fetchHandler =async()=>{\r\n            await axios\r\n            .get(`http://localhost:5000/books/${id}`)\r\n            .then((res)=>res.data).then(data=>setInputs(data.book));\r\n        };\r\n        fetchHandler()\r\n    },[id]);\r\n\r\n    const sentRequest = async()=>{\r\n        await axios.put(`http://localhost:5000/books/${id}`,{\r\n            name:String(inputs.name),\r\n            author:String(inputs.author),\r\n            description:String(inputs.description),\r\n            prize:Number(inputs.prize),\r\n            image:String(inputs.image),\r\n            available:Boolean(checked)\r\n        }).then(res=>res.data)\r\n    }\r\n    const handleSubmit =(e) =>{\r\n        e.preventDefault();\r\n        sentRequest().then(()=>history(\"/books\"))\r\n    };\r\n    const handleChange =(e)=>{\r\n        setInputs((prevState)=>({\r\n            ...prevState,\r\n            [e.target.name]:e.target.value\r\n      }));\r\n    };\r\n  return (\r\n    <div>\r\n{inputs &&   ( <form onSubmit={handleSubmit}>\r\n      <Box display=\"flex\" flexDirection=\"column\" justifyContent={'center'} maxWidth={700} alignContent={'center'}\r\n       alignSelf=\"center\" marginLeft={\"auto\"} marginRight={\"auto\"} marginTop={9}>\r\n      <FormLabel>Name</FormLabel>\r\n      <TextField sx={{backgroundColor:'#edb4d9'}}   value={inputs.name} onChange={handleChange} margin=\"normal\" fullWidth variant='outlined' name=\"name\"/>\r\n      <FormLabel>Author</FormLabel>\r\n      <TextField sx={{backgroundColor:'#edb4d9'}}   value={inputs.author} onChange={handleChange} margin=\"normal\" fullWidth variant='outlined' name=\"author\"/>\r\n      <FormLabel>Description</FormLabel>\r\n      <TextField sx={{backgroundColor:'#edb4d9'}}   value={inputs.description} onChange={handleChange} margin=\"normal\" fullWidth variant='outlined' name=\"description\"/>\r\n      <FormLabel>Prize</FormLabel>\r\n      <TextField sx={{backgroundColor:'#edb4d9'}}   value={inputs.prize} onChange={handleChange} type=\"number\" margin=\"normal\" fullWidth variant='outlined' name=\"prize\"/>\r\n      <FormLabel>IMAGE</FormLabel>\r\n      <TextField sx={{backgroundColor:'#edb4d9'}}   value={inputs.image} onChange={handleChange} margin=\"normal\" fullWidth variant='outlined' name=\"image\"/>\r\n      <FormControlLabel\r\n       control={<Checkbox checked={checked} onChange={()=>setChecked(!checked)}  />} label=\"Available\" />\r\n      <Button variant='contained' type='submit'>UPDATE BOOK</Button>\r\n    </Box>\r\n    \r\n    </form>)}\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default BookDetail"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}